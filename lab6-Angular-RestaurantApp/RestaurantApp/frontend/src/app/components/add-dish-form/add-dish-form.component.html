<div class="form-wrapper">
  <form [formGroup]="dishForm" (ngSubmit)="onSubmit()">
    <label for="name" class="big">Nazwa dania</label>
    <input id="name" type="text" formControlName="name">
  
    <div formArrayName="cuisines">
      <h5>Typ kuchni</h5>
      <button type="button" (click)="addCuisine()" type="button">+ Dodaj tag typu kuchni</button>
  
      <div *ngFor="let cuisine of cuisines.controls; let i=index">
        <span><label for="cuisine-{{ i }}">Kuchnia:</label>
        <input id="cuisine-{{ i }}" type="text" [formControlName]="i"></span>
      </div>
    </div>

    <div formArrayName="categories">
        <h5>Kategoria kuchni</h5>
        <button type="button" (click)="addCategory()" type="button">+ Dodaj tag kategorii kuchni</button>
    
        <div *ngFor="let category of categories.controls; let i=index">
          <label for="category-{{ i }}">Kategoria:</label>
          <input id="category-{{ i }}" type="text" [formControlName]="i">
        </div>
    </div>

    <div formArrayName="ingredients">
      <h5>Składniki</h5>
      <button type="button" (click)="addIngredient()" type="button">+ Dodaj składnik</button>
  
      <div *ngFor="let ingredient of ingredients.controls; let i=index">
        <label for="ingredient-{{ i }}">Składnik:</label>
        <input id="ingredient-{{ i }}" type="text" [formControlName]="i">
      </div>
    </div>

    <label for="maxDailyAmount" class="big">Maksymalna dzienna liczba porcji</label>
    <input id="maxDailyAmount" type="text" formControlName="maxDailyAmount">

    <label for="price" class="big">Cena</label>
    <input id="price" type="text" formControlName="price">

    <label for="description" class="big">Krótki opis</label>
    <input id="description" type="text" formControlName="description">

    <div formArrayName="photos">
      <h5>Zdjęcia</h5>
      <button type="button" (click)="addPhoto()" type="button">+ Dodaj link do zdjęcia</button>

      <div *ngFor="let photo of photos.controls; let i=index">
        <label for="photo-{{ i }}">URL:</label>
        <input id="photo-{{ i }}" type="text" [formControlName]="i">
      </div>
    </div>
  
    <p class="form-status-font">Wypełnij poprawnie wszystkie pola według poniższych wskazówek, by dodać danie.</p>
    <button type="submit" [disabled]="!dishForm.valid">Submit</button>
  </form>
  <div class="form-status ">
    <p>Status wypełnienia formularza: {{ dishForm.status }}</p>
    Źle wypełnione pola: 
    <span *ngFor="let i of invalidFormControls()">{{i}}, </span>
  </div>

</div>
